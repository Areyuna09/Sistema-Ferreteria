<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>

<StackPane xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.ferreteria.controllers.LoginController"
           styleClass="login-root">

    <!-- Capa 1: Imagen de fondo con blur (se aplica en el controller) -->
    <ImageView fx:id="backgroundImage"
               preserveRatio="false"
               fitWidth="1100"
               fitHeight="650"/>

    <!-- Capa 2: Overlay oscuro -->
    <Pane styleClass="login-overlay"/>

    <!-- Capa 3: Contenido principal -->
    <HBox alignment="CENTER" spacing="0">

        <!-- Panel Izquierdo - Branding (glass effect) -->
        <VBox fx:id="brandPanel" styleClass="glass-panel brand-panel" alignment="CENTER" spacing="20"
              prefWidth="420" prefHeight="500">
            <padding>
                <Insets top="40" right="40" bottom="40" left="40"/>
            </padding>

            <!-- Logo -->
            <VBox alignment="CENTER" spacing="12">
                <Label text="ðŸ”§" styleClass="brand-icon-large"/>
                <Label text="Ferreteria" styleClass="brand-title-glass"/>
                <Label text="SISTEMA DE GESTION" styleClass="brand-subtitle-glass"/>
            </VBox>

            <Region VBox.vgrow="ALWAYS"/>

            <!-- Features -->
            <VBox spacing="16" alignment="CENTER_LEFT">
                <HBox spacing="12" alignment="CENTER_LEFT">
                    <Label text="âœ“" styleClass="feature-check"/>
                    <Label text="Control de inventario" styleClass="feature-text"/>
                </HBox>
                <HBox spacing="12" alignment="CENTER_LEFT">
                    <Label text="âœ“" styleClass="feature-check"/>
                    <Label text="Gestion de ventas" styleClass="feature-text"/>
                </HBox>
                <HBox spacing="12" alignment="CENTER_LEFT">
                    <Label text="âœ“" styleClass="feature-check"/>
                    <Label text="Reportes detallados" styleClass="feature-text"/>
                </HBox>
                <HBox spacing="12" alignment="CENTER_LEFT">
                    <Label text="âœ“" styleClass="feature-check"/>
                    <Label text="Multi-usuario" styleClass="feature-text"/>
                </HBox>
            </VBox>

            <Region VBox.vgrow="ALWAYS"/>

            <Label text="v1.0.0" styleClass="version-glass"/>
        </VBox>

        <!-- Separador -->
        <Region prefWidth="40"/>

        <!-- Panel Derecho - Formulario (glass effect) -->
        <VBox fx:id="formPanel" styleClass="glass-panel form-panel" alignment="CENTER" spacing="24"
              prefWidth="380" prefHeight="500">
            <padding>
                <Insets top="40" right="40" bottom="40" left="40"/>
            </padding>

            <!-- Titulo -->
            <VBox spacing="8" alignment="CENTER">
                <Label text="Bienvenido" styleClass="form-title-glass"/>
                <Label text="Ingresa tus credenciales" styleClass="form-subtitle-glass"/>
            </VBox>

            <Region prefHeight="10"/>

            <!-- Campos -->
            <VBox spacing="20" alignment="CENTER" maxWidth="280">
                <!-- Usuario -->
                <VBox spacing="8">
                    <Label text="USUARIO" styleClass="field-label-glass"/>
                    <TextField fx:id="usernameField"
                               promptText="Tu nombre de usuario"
                               styleClass="field-glass"/>
                </VBox>

                <!-- ContraseÃ±a -->
                <VBox spacing="8">
                    <Label text="CONTRASEÃ‘A" styleClass="field-label-glass"/>
                    <StackPane>
                        <PasswordField fx:id="passwordField"
                                       promptText="Tu contraseÃ±a"
                                       styleClass="field-glass"/>
                        <TextField fx:id="passwordVisible"
                                   promptText="Tu contraseÃ±a"
                                   styleClass="field-glass"
                                   visible="false"/>
                    </StackPane>
                    <CheckBox fx:id="showPasswordCheck" text="Mostrar contraseÃ±a" styleClass="show-password-check"/>
                </VBox>

                <!-- Error -->
                <Label fx:id="errorLabel"
                       styleClass="error-label-glass"
                       visible="false"
                       managed="false"
                       wrapText="true"/>

                <!-- Boton -->
                <Button fx:id="loginButton"
                        text="INICIAR SESION"
                        onAction="#handleLogin"
                        styleClass="login-button-glass"
                        maxWidth="Infinity"/>
            </VBox>

            <Region VBox.vgrow="ALWAYS"/>

            <!-- Hint -->
            <VBox alignment="CENTER" spacing="4">
                <Label text="Demo: admin / admin123" styleClass="hint-glass"/>
            </VBox>
        </VBox>

    </HBox>

</StackPane>
